<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="/stylesheets/style.css" />
    <title>WiselyWheel</title>
  </head>
  <body>
    <header>
      <img
        src="/image/logo.png"
        alt="WiselyWheel"
        width="200rem"
        height="150rem"
      />
      <nav>
        <ul>
          <li><a href="/index">Home</a></li>
          <li><a href="/browse">Browse Bikes</a></li>
          <li><a href="/compare">Compare Bikes</a></li>
          <li><a href="/aboutus">About Us</a></li>
          <li><a href="/logout">Logout</a></li>
        </ul>
      </nav>
    </header>

    <section class="hero">
      <h1>Discover and Compare Your Perfect Ride</h1>
      <div class="search-bar">
        <input
          type="text"
          id="bikeSearchInput"
          placeholder="Search your bike here"
        />
        <button id="searchButton">Search</button>
      </div>
      <!-- Add the search results div here -->
      <div id="searchResults"></div>
    </section>
    <section class="popular-bikes-container">
      <h2>Popular Bikes</h2>
      <% bikeRankings.slice(0, 5).forEach(bikeRanking => { %>
      <div class="box">
        <div class="box-img">
          <img
            src="<%= bikeRanking.bike.image_url %>"
            alt="<%= bikeRanking.bike.variant_name %>"
          />
        </div>
        <div class="box-info">
          <h3><%= bikeRanking.bike.variant_name %></h3>
          <p><strong>Brand:</strong> <%= bikeRanking.bike.brand %></p>
          <p><strong>Price:</strong> <%= bikeRanking.bike.price %></p>
          <a href="/bikeDetails?id=<%= bikeRanking.bike._id %>">View Details</a>
        </div>
      </div>
      <% }); %>
    </section>

    <!-- brands -->
    <section class="brands" id="brands">
      <div class="heading">
        <h1>All Brands</h1>
      </div>
      <div class="brands-container">
        <div class="box">
          <div class="box-img">
            <img src="/image/honda.png" alt="" />
          </div>
        </div>

        <div class="box">
          <div class="box-img">
            <img src="/image/Yamaha.png" />
          </div>
        </div>

        <div class="box">
          <div class="box-img">
            <img src="/image/bajaj.png" alt="" />
          </div>
        </div>
        <div class="box">
          <div class="box-img">
            <img src="/image/tvs.webp" alt="" />
          </div>
        </div>
      </div>
    </section>

    
    <script>

      document.addEventListener("DOMContentLoaded", function () {
        const searchButton = document.getElementById("searchButton");

        searchButton.addEventListener("click", function () {
          const searchTerm = document
            .getElementById("bikeSearchInput")
            .value.trim()
            .toLowerCase();

          // Redirect to searchResults page with the search term
          window.location.href = `/searchResults?searchTerm=${searchTerm}`;
        });
      });
    </script>
    <footer>
      <p>&copy; 2024 WiselyWheel. All rights reserved.</p>
    </footer>
  </body>
</html>
